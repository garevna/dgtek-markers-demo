(function(e){function t(t){for(var a,i,o=t[0],l=t[1],d=t[2],p=0,u=[];p<o.length;p++)i=o[p],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&u.push(n[i][0]),n[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);c&&c(t);while(u.length)u.shift()();return s.push.apply(s,d||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,o=1;o<r.length;o++){var l=r[o];0!==n[l]&&(a=!1)}a&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var a={},n={app:0},s=[];function i(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=a,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(r,a,function(t){return e[t]}.bind(null,a));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dgtek-markers-demo/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var d=0;d<o.length;d++)t(o[d]);var c=l;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"1dd9":function(e,t,r){"use strict";var a=r("bb56"),n=r.n(a);n.a},"25f03":function(e,t,r){},"3fd0":function(e,t,r){r("99af"),r("4de4"),r("c740"),r("4160"),r("c975"),r("a434"),r("d3b7"),r("6062"),r("3ca3"),r("159b"),r("ddb0");var a=r("4082"),n=r("6374");Storage.prototype.getItemByName=function(e){return JSON.parse(this.getItem(e))},Storage.prototype.setItemByName=function(e,t){this.setItem(e,JSON.stringify(t))},Storage.prototype.getAllKeys=function(){for(var e=new Set,t=new Set,r=new Set,a=new Set,s=new Set,i=0,o=["LIT","Footprint"];i<o.length;i++){var l,d=o[i],c=this.getItemByName(d),p=n(c);try{for(p.s();!(l=p.n()).done;){var u=l.value,m=this.getItemByName(u);m.properties&&(e.add(m.properties.street),t.add(m.properties.city),r.add(m.properties.postCode),a.add(m.properties.state),s.add(m.properties.admin))}}catch(f){p.e(f)}finally{p.f()}}return{streets:e,cities:t,postalCodes:r,states:a,admins:s}},Storage.prototype.findMarkersByAddress=function(e){for(var t=this,r=[],a=0,n=["LIT","Footprint"];a<n.length;a++){var s=n[a],i=this.getItemByName(s);r=r.concat(i.filter((function(r){return t.getItemByName(r).address===e})))}return r},Storage.prototype.findMarkersByProperty=function(e,t){for(var r=this,a=[],n=0,s=["LIT","Footprint"];n<s.length;n++){var i=s[n],o=this.getItemByName(i);a=a.concat(o.filter((function(a){var n=r.getItemByName(a);return n.properties&&n.properties[e]===t})))}return a},Storage.prototype.findMarkersByStreet=function(e){return this.findMarkersByProperty("street",e)},Storage.prototype.findMarkersByCity=function(e){return this.findMarkersByProperty("city",e)},Storage.prototype.findMarkersByState=function(e){return this.findMarkersByProperty("state",e)},Storage.prototype.findMarkersByAdminArea=function(e){return this.findMarkersByProperty("admin",e)},Storage.prototype.findMarkersByPostalCode=function(e){return this.findMarkersByProperty("postCode",e)},Storage.prototype.findMarker=function(e,t){for(var r=0,a=["LIT","Footprint"];r<a.length;r++){var s,i=a[r],o=this.getItemByName(i),l=n(o);try{for(l.s();!(s=l.n()).done;){var d=s.value,c=this.getItemByName(d);if(c.address===e)return Object.assign(c,{id:d});if(c.address.indexOf(e)>=0&&console.warn("Partial consilience found"),JSON.stringify(c.coordinates)===JSON.stringify(t))return this.setItemByName(d,{address:e,coordinates:t,type:c.type}),Object.assign(c,{id:d})}}catch(p){l.e(p)}finally{l.f()}}return null},Storage.prototype.getMarkerCoordinates=function(e){return this.getItemByName(e).coordinates},Storage.prototype.setMarkerCoordinates=function(e,t){var r=this.getItemByName(e);r.coordinates=t,this.setItemByName(e,r)},Storage.prototype.getMarkerType=function(e){return this.getItemByName(e).type},Storage.prototype.addMarker=function(e,t){this.setItemByName(e,t);var r=this.getItemByName(t.type);r.push(e),this.setItemByName(t.type,r),this.emit({eventType:"new-marker-added",markerId:e,type:t.type,coordinates:t.coordinates})},Storage.prototype.addMarkerToCollection=function(e,t){var r=this.getItemByName(t);r.push(e),this.setItemByName(t,r)},Storage.prototype.removeMarkerFromCollection=function(e,t){var r=this.getItemByName(t);r.splice(r.findIndex((function(t){return t===e})),1),this.setItemByName(t,r)},Storage.prototype.removeMarker=function(e){this.removeMarkerFromCollection(e,this.getItemByName(e).type),this.removeItem(e)},Storage.prototype.updateMarkerType=function(e,t){var r=this.getItemByName(e);this.removeMarkerFromCollection(e,r.type),this.addMarkerToCollection(e,t),r.type=t,this.setItemByName(e,r),this.emit({eventType:"marker-type-changed",markerId:e,type:t})},Storage.prototype.getAllMarkers=function(){for(var e=this,t={type:"FeatureCollection",features:[]},r=0,a=["LIT","Footprint"];r<a.length;r++){var n=a[r],s=this.getItemByName(n);s.forEach((function(r){var a=e.getItemByName(r);t.features.push({type:"Feature",properties:Object.assign({id:r,address:a.address,type:a.type},a.properties),geometry:{type:"Point",coordinates:a.coordinates}})}))}return t},Storage.prototype.emit=function(e){var t=e.eventType,r=a(e,["eventType"]);this.eventHandler.dispatchEvent(Object.assign(new Event(t),{details:r}))}},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("a026"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-main",{attrs:{id:"dgtek-markers"}},[r("Markers",{attrs:{saveData:e.saveData,saveAddressDescription:e.saveAddressDescription},on:{"update:saveData":function(t){e.saveData=t},"update:save-data":function(t){e.saveData=t},"update:saveAddressDescription":function(t){e.saveAddressDescription=t},"update:save-address-description":function(t){e.saveAddressDescription=t}}})],1)],1)},s=[],i=(r("a4d3"),r("e01a"),r("96cf"),r("1da1")),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",{staticClass:"text-center"},[r("v-col",{attrs:{cols:"12",lg:"7"}},[r("div",{attrs:{id:"dgtek-container-for-map"}})]),e.ready?r("v-col",{attrs:{cols:"12",lg:"5"}},[e.diagnostics&&!e.diagnosticsDone?r("Diagnostics",{attrs:{types:e.types,finished:e.diagnosticsDone,opened:e.diagnostics},on:{"update:finished":function(t){e.diagnosticsDone=t},"update:opened":function(t){e.diagnostics=t}}}):e._e(),e.diagnostics?e._e():r("AddressInfo",{attrs:{markerId:e.selectedMarkerId,resellers:e.resellers,descriptionChanged:e.descriptionChanged},on:{"update:markerId":function(t){e.selectedMarkerId=t},"update:marker-id":function(t){e.selectedMarkerId=t},"update:descriptionChanged":function(t){e.descriptionChanged=t},"update:description-changed":function(t){e.descriptionChanged=t}}})],1):e._e()],1),r("AddressDescription",{attrs:{dialog:e.addressDescriptionVisible,markerId:e.selectedMarkerId,descriptionChanged:e.descriptionChanged},on:{"update:dialog":function(t){e.addressDescriptionVisible=t},"update:descriptionChanged":function(t){e.descriptionChanged=t},"update:description-changed":function(t){e.descriptionChanged=t}}}),r("AddressLevels",{attrs:{opened:e.showAddressLevels,address:e.description.address,addressLevels:e.description.levels},on:{"update:opened":function(t){e.showAddressLevels=t},"update:addressLevels":function(t){return e.$set(e.description,"levels",t)},"update:address-levels":function(t){return e.$set(e.description,"levels",t)}}}),r("v-bottom-navigation",{attrs:{app:"",horizontal:"",dark:""}},[e.diagnosticsDone?e._e():r("Button",{attrs:{clicked:e.diagnostics,text:"DIAGNOSTICS"},on:{"update:clicked":function(t){e.diagnostics=t}}}),e.selectedMarkerId?r("Button",{attrs:{clicked:e.search,text:"SEARCH"},on:{"update:clicked":function(t){e.search=t}}}):e._e(),e.selectedMarkerId?r("Button",{attrs:{clicked:e.addressDescriptionVisible,text:"Address description"},on:{"update:clicked":function(t){e.addressDescriptionVisible=t}}}):e._e(),e.selectedMarkerId?r("Button",{attrs:{clicked:e.showAddressLevels,text:"Address levels"},on:{"update:clicked":function(t){e.showAddressLevels=t}}}):e._e(),r("Button",{attrs:{clicked:e.save,text:"SAVE"},on:{"update:clicked":function(t){e.save=t}}})],1)],1)},l=[],d=(r("4160"),r("d81d"),r("d3b7"),r("ac1f"),r("841c"),r("159b"),r("3fd0"),r("99af"),r("b85c")),c=r("15fd"),p=r("d4ec"),u=r("bee2"),m=[{featureType:"landscape",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:20}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#ffffff"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:16}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:21}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#dedede"},{lightness:21}]},{elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"},{lightness:16}]},{elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#333333"},{lightness:40}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#f2f2f2"},{lightness:19}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#fefefe"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#fefefe"},{lightness:17},{weight:1.2}]}],f=function(){function e(t){Object(p["a"])(this,e),this.map=null,this.selectedMarkerId=null;var r=t.container,a=Object(c["a"])(t,["container"]);for(var n in r&&1===r.nodeType?this.container=r:(this.container=document.body.appendChild(document.createElement("div")),this.container.id="dgtek-container-for-map"),this.mapContainer=this.container.appendChild(document.createElement("div")),this.storage.constructor.prototype.eventHandler=this.container,this.createMap(),a)this.options[n]=a[n];this.center=this.options.center,this.setMapSize()}return Object(u["a"])(e,[{key:"changeMarkerAddress",value:function(e,t,r){this.selectedMarkerId&&this.selectedMarkerId===e&&(this[this.selectedMarkerId].address=t,this[this.selectedMarkerId].setOptions({title:t,position:r}),this.map.panTo(r))}},{key:"setSearchMarker",value:function(e,t){this.searchMarker?this.searchMarker.setOptions({map:this.map,position:{lat:e[1],lng:e[0]},title:t}):this.searchMarker=new window.google.maps.Marker({map:this.map,position:{lat:e[1],lng:e[0]},scale:1,icon:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2218%22%20height%3D%2218%22%20viewBox%3D%220%200%2018%2018%22%3E%0A%20%20%3Cpath%20fill%3D%22%23111%22%20d%3D%22M0%2C0v2v4h2V2h4V0H2H0z%20M16%2C0h-4v2h4v4h2V2V0H16z%20M16%2C16h-4v2h4h2v-2v-4h-2V16z%20M2%2C12H0v4v2h2h4v-2H2V12z%22%2F%3E%0A%3C%2Fsvg%3E%0A",draggable:!1,raiseOnDrag:!1,title:t||"Search"}),this.map.setCenter({lat:e[1],lng:e[0]})}},{key:"resetSearchMarker",value:function(){this.searchMarker&&this.searchMarker.setOptions({map:null})}},{key:"changeMarkerCoordinates",value:function(e){var t=new window.google.maps.LatLng(e.details.markerCoordinates[1],e.details.markerCoordinates[0]);this[this.selectedMarkerId].setPosition(t)}},{key:"changeMarkerType",value:function(e){this[this.selectedMarkerId].setOptions({icon:this.options.markers[e.details.type]})}},{key:"setMarkerActive",value:function(e){this[this.selectedMarkerId].setOptions({icon:this.activeMarkerIcon,zIndex:9999999}),this.container.dispatchEvent(Object.assign(new Event("marker-selected"),{details:{id:this.selectedMarkerId}})),this.map.panTo(this[this.selectedMarkerId].position)}},{key:"resetSelectedMarker",value:function(){this[this.selectedMarkerId].setOptions({icon:this.options.markers[this[this.selectedMarkerId].type]}),this.container.dispatchEvent(new Event("reset-selected-marker"))}},{key:"mapClickEventHandler",value:function(e){this.map.setCenter(e.latLng),this.selectedMarkerId&&this.resetSelectedMarker(),this.container.dispatchEvent(Object.assign(new Event("empty-field-click"),{details:{coordinates:[e.latLng.lat(),e.latLng.lng()]}}))}},{key:"selectMarkerById",value:function(e){this.selectedMarkerId=e,setTimeout(this.setMarkerActive.bind(this))}},{key:"placeMarker",value:function(e){var t=Object.assign(new window.google.maps.Marker({map:this.map,position:{lat:e.coordinates[1],lng:e.coordinates[0]},icon:this.options.markers[e.type],draggable:!1,raiseOnDrag:!1,title:e.address,type:e.type}),{id:e.id}),r=this.createMarkerClickHandler(e.id,t);return t.addListener("click",r.bind(this)),t}},{key:"createMarkerClickHandler",value:function(e,t){return function(r){t.setOptions({icon:this.activeMarkerIcon}),this.selectedMarkerId&&this.selectedMarkerId!==t.id&&this[this.selectedMarkerId].setOptions({icon:this.options.markers[this[this.selectedMarkerId].type]}),this.selectedMarkerId=t.id,this.container.dispatchEvent(Object.assign(new Event("marker-selected"),{details:{id:e}})),setTimeout(this.setMarkerActive.bind(this))}.bind(this)}},{key:"placeMarkers",value:function(){var e,t=this,r=Object(d["a"])(this.options.markerTypes);try{var a=function(){var r=e.value,a=localStorage.getItemByName(r);a.forEach((function(e){var a=localStorage.getItemByName(e);a.id=e,t[e]=t.placeMarker(a,r)}))};for(r.s();!(e=r.n()).done;)a()}catch(n){r.e(n)}finally{r.f()}}},{key:"removeMarker",value:function(){this.selectedMarkerId&&(this[this.selectedMarkerId].setOptions({map:null}),this.selectedMarkerId=null)}}]),e}();f.prototype.storage=localStorage,f.prototype.options={container:document.body,height:"700px",width:"100%",center:{lat:-37.87013628,lng:144.963058},markerTypes:["LIT","Footprint"],markers:{}},f.prototype.loadScript=function(){return new Promise((function(e){var t=document.body.appendChild(document.createElement("script"));t.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVql75Qc_Y5oGvrxdcNRNMhBlZEzTdk1o&libraries=geometry,drawing,places",t.onload=e.bind(null,!0),t.onerror=e.bind(null,!1)}))},f.prototype.createMap=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loadScript();case 2:if(e.sent){e.next=4;break}return e.abrupt("return",console.error("Error accessing Google Maps API"));case 4:f.prototype.__geo=window.google.maps,f.prototype.Polygon=window.google.maps.Polygon,f.prototype.__places=window.google.maps.places,f.prototype.__geoCoder=new window.google.maps.Geocoder,f.prototype.Autocomplete=window.google.maps.places.Autocomplete,f.prototype.__geoLocation=window.google.maps.geometry.poly.containsLocation,window.google.maps.SymbolPath.MARKER="M2.8,0C1.2,0,0,1.3,0,2.8c0,0.9,0.4,1.8,1.1,2.3L2.8,8l1.6-2.9c0.7-0.5,1.1-1.3,1.1-2.3C5.5,1.3,4.3,0,2.8,0z",f.prototype.options.markers={LIT:{path:window.google.maps.SymbolPath.MARKER,strokeColor:"#fff",strokeWeight:1.2,strokeOpacity:1,fillColor:"#08a",fillOpacity:1,scale:3},Footprint:{path:window.google.maps.SymbolPath.MARKER,strokeColor:"#fff",strokeWeight:1.2,strokeOpacity:1,fillColor:"#08a",fillOpacity:1,scale:3}},f.prototype.activeMarkerIcon={path:window.google.maps.SymbolPath.MARKER,strokeColor:"#fff",strokeWeight:1.3,strokeOpacity:1,fillColor:"#f0f",fillOpacity:1,scale:4},this.map=new window.google.maps.Map(this.mapContainer,{center:this.center,zoom:14,styles:m,disableDefaultUI:!0}),window.google.maps.event.addListener(this.map,"click",this.mapClickEventHandler.bind(this)),this.placeMarkers(),this.container.dispatchEvent(new Event("map-is-ready"));case 17:case"end":return e.stop()}}),e,this)}))),f.prototype.setMapSize=function(){var e=this.container.getBoundingClientRect;this.height=e&&e.height?e.height:"number"===typeof this.options.height?this.options.height:400,this.mapHeight=this.height+"px",this.mapWidth="100%",this.mapContainer.style="\n    height: ".concat(this.mapHeight,";\n    width: ").concat(this.mapWidth,";\n  ")};var h=f,v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.marker?r("v-dialog",{attrs:{"max-width":"600"},model:{value:e.opened,callback:function(t){e.opened=t},expression:"opened"}},[r("v-card-text",[r("h4",[e._v("Actual")])]),r("v-card-text",{style:{color:e.validated?"#090":"#333"}},[e._v(" "+e._s(e.marker.address)+" ")]),r("v-card-text",{staticClass:"text-center"},[r("v-simple-table",{attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[r("tbody",[r("tr",[r("td",{staticClass:"text-left"},[r("b",[e._v("lat:")])]),r("td",{staticClass:"text-right"},[e._v(e._s(e.marker.coordinates[1]))]),r("td",{staticClass:"text-left"},[r("b",[e._v("lng:")])]),r("td",{staticClass:"text-right"},[e._v(e._s(e.marker.coordinates[0]))])])])]},proxy:!0}],null,!1,4107589069)})],1),r("v-card-text",[r("h4",[e._v("Formatted")])]),r("v-card-text",{style:{color:e.error?"#a00":"#09b"}},[e._v(" "+e._s(e.formattedAddress)+" ")]),r("v-card-text",{staticClass:"text-center"},[r("v-simple-table",{attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[r("tbody",[r("tr",[r("td",{staticClass:"text-left"},[r("b",[e._v("lat:")])]),r("td",{staticClass:"text-right"},[e._v(e._s(e.formattedCoordinates[1]))]),r("td",{staticClass:"text-left"},[r("b",[e._v("lng:")])]),r("td",{staticClass:"text-right"},[e._v(e._s(e.formattedCoordinates[0]))])])])]},proxy:!0}],null,!1,559407117)})],1),r("v-card",{staticClass:"mx-auto"},[r("v-card-text",[r("h4",[e._v("Details for search:")])]),r("v-card-text",{staticClass:"text-center"},[r("v-simple-table",{attrs:{dense:"",dark:""},scopedSlots:e._u([{key:"default",fn:function(){return[r("tbody",[r("tr",[r("td",{staticClass:"text-left"},[e._v("Street")]),r("td",{staticClass:"text-right"},[e._v(e._s(e.properties.number)+" "+e._s(e.properties.street))])]),r("tr",[r("td",{staticClass:"text-left"},[e._v("City")]),r("td",{staticClass:"text-right"},[e._v(e._s(e.properties.city))])]),r("tr",[r("td",{staticClass:"text-left"},[e._v("Administrative area")]),r("td",{staticClass:"text-right"},[e._v(e._s(e.properties.admin))])]),r("tr",[r("td",{staticClass:"text-left"},[e._v("State")]),r("td",{staticClass:"text-right"},[e._v(e._s(e.properties.state))])]),r("tr",[r("td",{staticClass:"text-left"},[e._v("Postal code")]),r("td",{staticClass:"text-right"},[e._v(e._s(e.properties.postCode))])])])]},proxy:!0}],null,!1,3211577025)})],1)],1),r("v-bottom-navigation",{attrs:{absolute:""}},[e.updateAll||e.finished||e.marker.address===e.formattedAddress?e._e():r("Button",{attrs:{text:"UPDATE",clicked:e.replace,color:"#333"},on:{"update:clicked":function(t){e.replace=t}}}),e.updateAll||e.finished?e._e():r("Button",{attrs:{text:"NEXT",clicked:e.nextStep,color:"#333"},on:{"update:clicked":function(t){e.nextStep=t}}}),r("Button",{attrs:{text:"CANCEL",clicked:e.close,color:"#333"},on:{"update:clicked":function(t){e.close=t}}})],1)],1):e._e()},g=[],b=(r("7db0"),r("3ca3"),r("5319"),r("ddb0"),r("d7a8"),r("8868")),k=r("169a"),y=r("1f4f"),x=r("99d9"),I=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-btn",{staticStyle:{"margin-right":"8px"},attrs:{large:"",outlined:"","retain-focus-on-click":"",text:"",color:e.color||"#fff"},on:{click:function(t){return t.stopPropagation(),e.$emit("update:clicked",!0)}}},[e._v(" "+e._s(e.text)+" ")])},C=[],w=r("8336"),_={name:"Button",components:{VBtn:w["a"]},props:["text","clicked","color"]},S=_,M=r("2877"),D=r("6544"),O=r.n(D),A=Object(M["a"])(S,I,C,!1,null,null,null),T=A.exports;O()(A,{VBtn:w["a"]});var $={name:"Diagnostics",components:{VDialog:k["a"],VSimpleTable:y["a"],VCardText:x["b"],Button:T},props:["types","finished","opened"],data:function(){return{markerId:"",marker:null,properties:sessionStorage.getItemByName("emptyProperties"),replace:!1,ready:!1,nextStep:!1,updateAll:!1,close:!1,formattedAddress:"",formattedCoordinates:["",""],syncIterator:null,asyncIterator:null,error:null}},computed:{validated:function(){return!!this.marker.properties}},watch:{replace:function(e){e&&(this.updateMarkerData(),this.replace=!1)},nextStep:function(e){(e||this.updateAll)&&(this.step(),this.nextStep=!1)},updateAll:function(e){e&&this.replaceAll()},close:function(e){e&&this.$emit("update:opened",!1)}},methods:{replaceAll:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n,s,i,o,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.close){t.next=2;break}return t.abrupt("break",37);case 2:return t.next=4,e.asyncIterator.next();case 4:if(r=t.sent,a=r.value,n=r.done,!a){t.next=36;break}if(e.markerId=a.markerId,e.marker=a.marker,!e.marker.properties){t.next=15;break}return e.formattedAddress=e.marker.address,e.formattedCoordinates=e.marker.coordinates,e.properties=e.marker.properties,t.abrupt("continue",36);case 15:return t.prev=15,t.next=18,e.validateAddress();case 18:s=t.sent,i=s.formattedAddress,o=s.formattedCoordinates,l=s.properties,e.formattedAddress=i,e.formattedCoordinates=o,e.properties=l,e.updateMarkerData(),t.next=36;break;case 28:return t.prev=28,t.t0=t["catch"](15),console.warn(t.t0),e.error=!0,e.formattedAddress=t.t0,e.formattedCoordinates="",e.properties=sessionStorage.getItemByName("emptyProperties"),t.abrupt("break",37);case 36:if(!n){t.next=0;break}case 37:e.$emit("update:finished",!0);case 38:case"end":return t.stop()}}),t,null,[[15,28]])})))()},step:function(){var e=this,t=this.syncIterator.next(),r=t.value,a=t.done;a&&this.$emit("update:finished",!0),this.marker=r,this.validateAddress().then((function(t){e.formattedAddress=t.formattedAddress,e.formattedCoordinates=t.formattedCoordinates,e.properties=t.properties}))},updateMarkerData:function(){this.marker={address:this.formattedAddress,coordinates:this.formattedCoordinates,type:this.marker.type,properties:this.properties},localStorage.setItemByName(this.markerId,this.marker)},validateAddress:function(){var e=this.$parent.map.__geoCoder.geocode,t=this.marker.address;return new Promise((function(r,a){e({address:t},(function(e,t){if(this.ready="OK"===t,"OK"===t){var n=e[0].geometry.location,s=e[0].address_components.find((function(e){return"street_number"===e.types[0]})),i=e[0].address_components.find((function(e){return"route"===e.types[0]})),o=e[0].address_components.find((function(e){return"locality"===e.types[0]})),l=e[0].address_components.find((function(e){return"administrative_area_level_1"===e.types[0]})),d=e[0].address_components.find((function(e){return"administrative_area_level_2"===e.types[0]})),c=e[0].address_components.find((function(e){return"postal_code"===e.types[0]}));r({formattedAddress:e[0].formatted_address,formattedCoordinates:[n.lng(),n.lat()],properties:{number:s?s.short_name:"",street:i?i.short_name:"",city:o?o.short_name:"",state:l?l.short_name:"",admin:d?d.short_name:"",postCode:c?c.short_name:""}})}else a(t)}))}))}},mounted:function(){this.test=this.$parent.map.__geocode,this.syncIterator=regeneratorRuntime.mark((function e(){var t,r,a,n,s,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=Object(d["a"])(this.types),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=26;break}a=r.value,n=localStorage.getItemByName(a),s=Object(d["a"])(n),e.prev=7,s.s();case 9:if((i=s.n()).done){e.next=16;break}return o=i.value,this.markerId=o,e.next=14,localStorage.getItemByName(o);case 14:e.next=9;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](7),s.e(e.t0);case 21:return e.prev=21,s.f(),e.finish(21);case 24:e.next=3;break;case 26:e.next=31;break;case 28:e.prev=28,e.t1=e["catch"](1),t.e(e.t1);case 31:return e.prev=31,t.f(),e.finish(31);case 34:case"end":return e.stop()}}),e,this,[[1,28,31,34],[7,18,21,24]])})).bind(this)(),this.asyncIterator=Object(b["a"])(regeneratorRuntime.mark((function e(){var t,r,a,n,s,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=Object(d["a"])(this.types),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=24;break}a=r.value,n=localStorage.getItemByName(a),s=Object(d["a"])(n),e.prev=7,o=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=i.value,e.next=3,new Promise((function(e){setTimeout((function(){return e({markerId:t,marker:localStorage.getItemByName(t)})}),1e3)}));case 3:case"end":return e.stop()}}),e)})),s.s();case 10:if((i=s.n()).done){e.next=14;break}return e.delegateYield(o(),"t0",12);case 12:e.next=10;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e["catch"](7),s.e(e.t1);case 19:return e.prev=19,s.f(),e.finish(19);case 22:e.next=3;break;case 24:e.next=29;break;case 26:e.prev=26,e.t2=e["catch"](1),t.e(e.t2);case 29:return e.prev=29,t.f(),e.finish(29);case 32:case"end":return e.stop()}}),e,this,[[1,26,29,32],[7,16,19,22]])}))).bind(this)(),this.nextStep=!0}},B=$,P=(r("9c19"),r("b81c")),V=r("b0af"),N=Object(M["a"])(B,v,g,!1,null,null,null),F=N.exports;O()(N,{VBottomNavigation:P["a"],VCard:V["a"],VCardText:x["b"],VDialog:k["a"],VSimpleTable:y["a"]});var R=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[e.search?e._e():r("v-select",{attrs:{options:e.types},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}}),r("v-card-text",{staticClass:"mx-auto px-auto"},[r("InputWithAutocomplete",{attrs:{address:e.markerData.address,coordinates:e.markerData.coordinates,properties:e.markerData.properties,resellers:e.resellers,search:e.search},on:{"update:address":function(t){return e.$set(e.markerData,"address",t)},"update:coordinates":function(t){return e.$set(e.markerData,"coordinates",t)},"update:properties":function(t){return e.$set(e.markerData,"properties",t)}}})],1),r("v-card-text",{staticClass:"text-center"},[r("h4",[e._v("Address components")])]),r("AddressDetails",{attrs:{number:e.properties.number,street:e.properties.street,city:e.properties.city,state:e.properties.state,admin:e.properties.admin,postCode:e.properties.postCode}}),e.newMarkerButton?r("v-card-text",[r("Button",{attrs:{clicked:e.newMarker,text:"Add new address",color:"#333"},on:{"update:clicked":function(t){e.newMarker=t}}})],1):e._e(),e.search?e._e():r("v-card-text",[r("Button",{attrs:{clicked:e.removeMarker,text:"Remove marker",color:"#333"},on:{"update:clicked":function(t){e.removeMarker=t}}})],1)],1)},E=[],L=r("4a7a"),j=r.n(L),U=(r("6dfc"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{attrs:{flat:""}},[e.search?r("v-card-text",{staticClass:"text-center"},[r("h3",[e._v("Search")])]):e._e(),r("v-card-text",{staticClass:"text-center"},[r("v-simple-table",{attrs:{dense:"","fixed-header":""},scopedSlots:e._u([{key:"default",fn:function(){return[r("thead",[r("tr",[r("th",{staticClass:"text-center"}),r("th",{staticClass:"text-center"},[e._v("Lng")]),r("th",{staticClass:"text-center"},[e._v("Lat")])])]),r("tbody",[r("tr",[r("td",[r("p",[e._v("Coordinates:")])]),r("td",[r("p",[e._v(e._s(e.coordinates[0]))])]),r("td",[r("p",[e._v(e._s(e.coordinates[1]))])])])])]},proxy:!0}])})],1),r("v-card-text",[e.search?r("span",[r("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24"}},[r("path",{attrs:{d:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"}})])]):e._e(),r("input",{directives:[{name:"model",rawName:"v-model",value:e.localAddress,expression:"localAddress"}],staticClass:"input-field",style:{borderColor:e.borderColor},attrs:{id:"autocompleteAddress",placeholder:"Address"},domProps:{value:e.localAddress},on:{input:function(t){t.target.composing||(e.localAddress=t.target.value)}}}),r("v-card-text",[e.address?r("p",{staticStyle:{color:"#09b"}},[e._v(e._s(e.address))]):e._e(),e.message?r("p",{staticStyle:{color:"#f50"}},[e._v(e._s(e.message))]):e._e()])],1)],1)}),G=[],H={name:"InputWithAutocomplete",props:["address","coordinates","properties","search"],data:function(){return{borderColor:"#bbb",message:"",map:null}},computed:{localAddress:{get:function(){return this.address},set:function(e){this.$emit("update:address",e)}}},methods:{initAutocomplete:function(){var e=0;return new Promise((function t(r,a){30===e++&&a(new Error("Error accessing Google maps API")),window.google&&document.getElementById("autocompleteAddress")?r({inputElement:document.getElementById("autocompleteAddress"),Autocomplete:window.google.maps.places.Autocomplete}):setTimeout((function(){return t(r,a)}),100)}))},getAddressComponents:function(e){if(!e.geometry)return this.borderColor="#900",this.message="Invalid address",{street:"",locality:"",admin1:"",admin2:"",postCode:""};this.message="",this.$emit("update:address",e.formatted_address),this.$emit("update:coordinates",[e.geometry.location.lng(),e.geometry.location.lat()]);var t=e.address_components.find((function(e){return"street_number"===e.types[0]})),r=e.address_components.find((function(e){return"route"===e.types[0]})),a=e.address_components.find((function(e){return"locality"===e.types[0]})),n=e.address_components.find((function(e){return"administrative_area_level_1"===e.types[0]})),s=e.address_components.find((function(e){return"administrative_area_level_2"===e.types[0]})),i=e.address_components.find((function(e){return"postal_code"===e.types[0]})),o={number:t?t.short_name:"",street:r?r.short_name:"",city:a?a.short_name:"",state:n?n.short_name:"",admin:s?s.short_name:"",postCode:i?i.short_name:""};return this.$emit("update:properties",o),o},initAddressInputField:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.initAutocomplete();case 3:r=t.sent,a=r.inputElement,n=r.Autocomplete,t.next=12;break;case 8:return t.prev=8,t.t0=t["catch"](0),console.warn(t.t0),t.abrupt("return");case 12:e.autocomplete=new n(a,{componentRestrictions:{country:"au"}}),e.autocomplete.addListener("place_changed",function(e){var t=this.autocomplete.getPlace();this.getAddressComponents(t);var r=t.geometry.location;if(this.$emit("update:coordinates",[r.lng(),r.lat()]),this.search){var a=localStorage.findMarker(t.formatted_address,[r.lng(),r.lat()]);a?(this.map.selectMarkerById(a.id),this.$emit("update:markerId",a.id)):this.map.setSearchMarker([r.lng(),r.lat()],t.formatted_address)}else{if(!this.markerId)return;this.$emit("update:address",this.localAddress),this.$emit("update:coordinates",[r.lng(),r.lat()]);var n=this.getAddressComponents(t);this.$emit("update:properties",n),this.$parent.map.changeMarkerAddress(this.markerId,t.formatted_address,r)}}.bind(e));case 14:case"end":return t.stop()}}),t,null,[[0,8]])})))()}},mounted:function(){setTimeout(this.initAddressInputField.bind(this),1e3),this.map=this.$parent.$parent.$parent.map}},q=H,z=(r("1dd9"),Object(M["a"])(q,U,G,!1,null,null,null)),J=z.exports;O()(z,{VCard:V["a"],VCardText:x["b"],VSimpleTable:y["a"]});var W=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-simple-table",{attrs:{dense:"",dark:""},scopedSlots:e._u([{key:"default",fn:function(){return[r("tbody",[r("tr",[r("td",{staticClass:"text-left"},[r("b",[e._v("Street")])]),r("td",{staticClass:"text-right"},[e._v(e._s(e.number)+" "+e._s(e.street))])]),r("tr",[r("td",{staticClass:"text-left"},[r("b",[e._v("City")])]),r("td",{staticClass:"text-right"},[e._v(e._s(e.city))])]),r("tr",[r("td",{staticClass:"text-left"},[r("b",[e._v("State")])]),r("td",{staticClass:"text-right"},[e._v(e._s(e.state))])]),r("tr",[r("td",{staticClass:"text-left"},[r("b",[e._v("Administrative area")])]),r("td",{staticClass:"text-right"},[e._v(e._s(e.admin))])]),r("tr",[r("td",{staticClass:"text-left"},[r("b",[e._v("Postal code")])]),r("td",{staticClass:"text-right"},[e._v(e._s(e.postCode))])])])]},proxy:!0}])})},K=[],Y={name:"AddressDetails",components:{VSimpleTable:y["a"]},props:["number","street","city","state","postCode","admin"]},Z=Y,Q=Object(M["a"])(Z,W,K,!1,null,"15aa7dc7",null),X=Q.exports;O()(Q,{VSimpleTable:y["a"]});var ee={name:"AddressInfo",components:{Button:T,InputWithAutocomplete:J,VCard:V["a"],VCardText:x["b"],vSelect:j.a,AddressDetails:X},props:["markerId","descriptionChanged","resellers"],data:function(){return{ready:!1,removeMarker:!1,newMarker:!1,types:["LIT","Footprint"],markerData:{address:"",coordinates:["",""],type:null,properties:sessionStorage.getItemByName("emptyProperties")},autocomplete:null,message:"",first:"",second:"",third:"",addressDescriptionVisible:!1}},computed:{search:function(){return!this.markerId},newMarkerButton:function(){return!this.markerId&&!!this.markerData.address&&!!this.markerData.coordinates[0]&&!!this.markerData.coordinates[1]},type:{get:function(){return this.markerId?this.markerData.type:null},set:function(e){e&&(this.markerData.type=e,localStorage.updateMarkerType(this.markerId,e),this.$parent.map[this.markerId].type=e,this.markerData.type=e)}},properties:{get:function(){return this.markerData.properties?{number:this.markerData.properties.number?this.markerData.properties.number:"",street:this.markerData.properties.street?this.markerData.properties.street:"",city:this.markerData.properties.city?this.markerData.properties.city:"",postCode:this.markerData.properties.postCode?this.markerData.properties.postCode:"",state:this.markerData.properties.state?this.markerData.properties.state:"",admin:this.markerData.properties.admin?this.markerData.properties.admin:""}:{number:"",street:"",city:"",state:"",postCode:"",admin:""}},set:function(e){this.markerData.properties=e}}},watch:{markerData:{deep:!0,handler:function(e){localStorage.setItemByName(this.markerId,e);var t=sessionStorage.getItemByName("description"),r=t.id,a=t.description;sessionStorage.setItemByName("description",{id:r,description:Object.assign(a,{address:e.address,addressComponents:JSON.parse(JSON.stringify(e.properties?e.properties:this.properties))})}),this.$emit("update:descriptionChanged",!0)}},markerId:{immediate:!0,handler:function(e,t){this.ready=!1,e&&this.markerId?(this.markerData=localStorage.getItemByName(e),this.ready=!0):this.markerData={address:"",coordinates:["",""],type:null,properties:{number:"",street:"",city:"",state:"",admin:"",postCode:""}}}},newMarker:function(e){if(e){var t="pin".concat(Date.now()),r={address:this.markerData.address,coordinates:this.markerData.coordinates,type:"Footprint",properties:this.markerData.properties};localStorage.setItemByName(t,r),Object.assign(this.$parent,{selectedMarkerId:t,selectedMarkerAddress:r.address,selectedMarkerCoordinates:r.coordinates,selectedMarkerType:"Footprint"}),this.$parent.map[t]=this.$parent.map.placeMarker(Object.assign(r,{id:t})),this.$parent.map.selectedMarkerId=t,setTimeout(this.$parent.map.setMarkerActive.bind(this.$parent.map)),this.newMarker=!1}},removeMarker:function(e){e&&this.markerId&&(this.$parent.map.removeMarker(this.markerId),localStorage.removeMarker(this.markerId),this.removeMarker=!1,this.$emit("update:markerId",void 0))}}},te=ee,re=(r("ab06"),r("b974")),ae=Object(M["a"])(te,R,E,!1,null,null,null),ne=ae.exports;O()(ae,{VCard:V["a"],VCardText:x["b"],VSelect:re["a"]});var se=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{staticClass:"pa-10",attrs:{persistent:"",light:"","max-width":"1000px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card-text",{staticClass:"text-center"},[r("h3",[e._v(e._s(e.description.address))])]),r("v-tabs",{attrs:{"background-color":"transparent",color:"basil",grow:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[r("v-tab",[e._v("GENERAL")]),r("v-tab",[e._v("OWNERS")]),r("v-tab",[e._v("MANAGEMENT")]),r("v-tab",[e._v("DOCS")]),r("v-tab",[e._v("IMAGES")]),r("v-tab",[e._v("INFRASTRUCTURE")])],1),r("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[r("v-tab-item",[r("v-card",{attrs:{flat:""}},[r("TabOne",{attrs:{footprint:e.description.footprint,distanceFromFootprint:e.description.distanceFromFootprint,numberOfLevels:e.description.numberOfLevels,numberOfDwellings:e.description.numberOfDwellings,avgFloorHeight:e.description.avgFloorHeight,buildingType:e.description.buildingType,approval:e.description.approval,induction:e.description.induction,leadInInstallationDifficulty:e.description.difficultyLevel.leadInInstallation,backboneInstallationDifficulty:e.description.difficultyLevel.backboneInstallation,customerInstallationDifficulty:e.description.difficultyLevel.customerInstallation},on:{"update:footprint":function(t){return e.$set(e.description,"footprint",t)},"update:distanceFromFootprint":function(t){return e.$set(e.description,"distanceFromFootprint",t)},"update:distance-from-footprint":function(t){return e.$set(e.description,"distanceFromFootprint",t)},"update:numberOfLevels":function(t){return e.$set(e.description,"numberOfLevels",t)},"update:number-of-levels":function(t){return e.$set(e.description,"numberOfLevels",t)},"update:numberOfDwellings":function(t){return e.$set(e.description,"numberOfDwellings",t)},"update:number-of-dwellings":function(t){return e.$set(e.description,"numberOfDwellings",t)},"update:avgFloorHeight":function(t){return e.$set(e.description,"avgFloorHeight",t)},"update:avg-floor-height":function(t){return e.$set(e.description,"avgFloorHeight",t)},"update:buildingType":function(t){return e.$set(e.description,"buildingType",t)},"update:building-type":function(t){return e.$set(e.description,"buildingType",t)},"update:approval":function(t){return e.$set(e.description,"approval",t)},"update:induction":function(t){return e.$set(e.description,"induction",t)},"update:leadInInstallationDifficulty":function(t){return e.$set(e.description.difficultyLevel,"leadInInstallation",t)},"update:lead-in-installation-difficulty":function(t){return e.$set(e.description.difficultyLevel,"leadInInstallation",t)},"update:backboneInstallationDifficulty":function(t){return e.$set(e.description.difficultyLevel,"backboneInstallation",t)},"update:backbone-installation-difficulty":function(t){return e.$set(e.description.difficultyLevel,"backboneInstallation",t)},"update:customerInstallationDifficulty":function(t){return e.$set(e.description.difficultyLevel,"customerInstallation",t)},"update:customer-installation-difficulty":function(t){return e.$set(e.description.difficultyLevel,"customerInstallation",t)}}})],1)],1),r("v-tab-item",[r("v-card",{attrs:{flat:""}},[r("TabsTwoAndThree",{attrs:{name:e.description.owner.name,email:e.description.owner.email,phone:e.description.owner.phone,address:e.description.owner.address,person:e.description.owner.contactPerson},on:{"update:name":function(t){return e.$set(e.description.owner,"name",t)},"update:email":function(t){return e.$set(e.description.owner,"email",t)},"update:phone":function(t){return e.$set(e.description.owner,"phone",t)},"update:address":function(t){return e.$set(e.description.owner,"address",t)},"update:person":function(t){return e.$set(e.description.owner,"contactPerson",t)}}})],1)],1),r("v-tab-item",[r("v-card",{attrs:{flat:""}},[r("TabsTwoAndThree",{attrs:{name:e.description.management.name,email:e.description.management.email,phone:e.description.management.phone,address:e.description.management.address,person:e.description.management.contactPerson},on:{"update:name":function(t){return e.$set(e.description.management,"name",t)},"update:email":function(t){return e.$set(e.description.management,"email",t)},"update:phone":function(t){return e.$set(e.description.management,"phone",t)},"update:address":function(t){return e.$set(e.description.management,"address",t)},"update:person":function(t){return e.$set(e.description.management,"contactPerson",t)}}})],1)],1),r("v-tab-item",[r("v-card",{attrs:{flat:""}},[r("TabFour",{attrs:{name:e.description.management.name,email:e.description.management.email,phone:e.description.management.phone,address:e.description.management.address,person:e.description.management.contactPerson},on:{"update:name":function(t){return e.$set(e.description.management,"name",t)},"update:email":function(t){return e.$set(e.description.management,"email",t)},"update:phone":function(t){return e.$set(e.description.management,"phone",t)},"update:address":function(t){return e.$set(e.description.management,"address",t)},"update:person":function(t){return e.$set(e.description.management,"contactPerson",t)}}})],1)],1),r("v-tab-item",[r("v-card",{attrs:{flat:""}},[r("TabFive",{attrs:{name:e.description.management.name,email:e.description.management.email,phone:e.description.management.phone,address:e.description.management.address,person:e.description.management.contactPerson},on:{"update:name":function(t){return e.$set(e.description.management,"name",t)},"update:email":function(t){return e.$set(e.description.management,"email",t)},"update:phone":function(t){return e.$set(e.description.management,"phone",t)},"update:address":function(t){return e.$set(e.description.management,"address",t)},"update:person":function(t){return e.$set(e.description.management,"contactPerson",t)}}})],1)],1),r("v-tab-item",[r("v-card",{attrs:{flat:""}},[r("TabSix",{attrs:{infrastructure:e.description.infrastructure},on:{"update:infrastructure":function(t){return e.$set(e.description,"infrastructure",t)}}})],1)],1)],1),r("v-bottom-navigation",{attrs:{absolute:""}},[r("Button",{attrs:{clicked:e.close,text:"CLOSE",color:"#333"},on:{"update:clicked":function(t){e.close=t}}})],1)],1)},ie=[],oe=(r("b64b"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("v-checkbox",{attrs:{label:"Footprint"},model:{value:e.fprint,callback:function(t){e.fprint=t},expression:"fprint"}})],1),r("v-col",{attrs:{cols:"6"}},[r("NumberInput",{attrs:{placeholder:"Distance from the footprint",value:e.distance},on:{"update:value":function(t){e.distance=t}}})],1)],1),r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"4"}},[r("NumberInput",{attrs:{placeholder:"Number of Levels ",value:e.levels},on:{"update:value":function(t){e.levels=t}}})],1),r("v-col",{attrs:{cols:"4"}},[r("NumberInput",{attrs:{placeholder:"Number of dwellings",value:e.dwellings},on:{"update:value":function(t){e.dwellings=t}}})],1),r("v-col",{attrs:{cols:"4"}},[r("NumberInput",{attrs:{placeholder:"Avg Height of each floor",value:e.floorHeight},on:{"update:value":function(t){e.floorHeight=t}}})],1)],1),r("v-select",{staticClass:"combo-box-input",attrs:{items:e.buildingTypes,outlined:"","hide-details":"",label:"Building Type"},model:{value:e.building,callback:function(t){e.building=t},expression:"building"}}),r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("v-checkbox",{attrs:{label:"Customer Install requires approval"},model:{value:e.approvalRequired,callback:function(t){e.approvalRequired=t},expression:"approvalRequired"}})],1),r("v-col",{attrs:{cols:"6"}},[r("v-checkbox",{attrs:{label:"Induction required"},model:{value:e.inductionRequired,callback:function(t){e.inductionRequired=t},expression:"inductionRequired"}})],1)],1),r("Difficulty",{attrs:{difficulty:e.leadInInstallation,label:"Lead-In Installation Difficulty"},on:{"update:difficulty":function(t){e.leadInInstallation=t}}}),r("Difficulty",{attrs:{difficulty:e.backboneInstallation,label:"Backbone Installation Difficulty"},on:{"update:difficulty":function(t){e.backboneInstallation=t}}}),r("Difficulty",{attrs:{difficulty:e.customerInstallation,label:"Customer Installation Difficulty"},on:{"update:difficulty":function(t){e.customerInstallation=t}}})],1)}),le=[],de=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-text-field",{staticClass:"user-inputs",attrs:{label:e.placeholder,placeholder:e.placeholder,error:e.error,outlined:"","hide-details":"",height:"32",color:e.color,"append-icon":e.validationIcon},on:{input:function(t){return e.validate(t)}},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}})},ce=[],pe=(r("466d"),{name:"NumberInput",props:["placeholder","value","error"],data:function(){return{normalColor:"#656565",errorColor:"#FF0E00",validColor:"#4CAF50",color:"#656565",validationIcon:"",available:null}},computed:{result:{get:function(){return this.value},set:function(e){this.$emit("update:value",e)}}},methods:{validate:function(e){var t=!e.match(/^[0-9]*$/);this.$emit("update:error",t),this.color=t?this.errorColor:this.validColor,this.validationIcon=t?"$invalid":""}}}),ue=pe,me=(r("ff54"),r("8654")),fe=Object(M["a"])(ue,de,ce,!1,null,"547ed3fd",null),he=fe.exports;O()(fe,{VTextField:me["a"]});var ve=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",{staticClass:"text-center mx-auto"},[r("v-col",{attrs:{cols:"5"}},[r("div",[r("span",{staticClass:"caption text-uppercase"},[e._v(e._s(e.label)+":")]),r("span",{staticClass:"font-weight-bold"},[e._v(" "+e._s(e.level)+" ")])]),r("v-slider",{attrs:{color:"blue darken-4",min:"1",max:"10"},model:{value:e.level,callback:function(t){e.level=t},expression:"level"}})],1),r("v-col",{attrs:{cols:"7"}},[r("v-rating",{attrs:{length:"10","full-icon":"mdi-hammer-screwdriver","empty-icon":"mdi-hammer-screwdriver",color:"red lighten-3","background-color":"grey lighten-1",label:e.label},model:{value:e.level,callback:function(t){e.level=t},expression:"level"}})],1)],1)},ge=[],be={name:"Difficulty",props:["difficulty","label"],data:function(){return{level:this.difficulty||1}},watch:{level:function(e){this.$emit("update:difficulty",e)}},mounted:function(){this.level=this.difficulty}},ke=be,ye=r("62ad"),xe=r("1d4d"),Ie=r("0fd9"),Ce=r("ba0d"),we=Object(M["a"])(ke,ve,ge,!1,null,null,null),_e=we.exports;O()(we,{VCol:ye["a"],VRating:xe["a"],VRow:Ie["a"],VSlider:Ce["a"]});var Se={name:"TabOne",components:{NumberInput:he,Difficulty:_e},props:["footprint","distanceFromFootprint","numberOfLevels","numberOfDwellings","avgFloorHeight","buildingType","approval","induction","leadInInstallationDifficulty","backboneInstallationDifficulty","customerInstallationDifficulty"],data:function(){return{buildingTypes:["Shopping center","High-rise building","Business park","Other"]}},computed:{fprint:{get:function(){return this.footprint},set:function(e){this.$emit("update:footprint",e)}},distance:{get:function(){return this.distanceFromFootprint},set:function(e){this.$emit("update:distanceFromFootprint",e)}},levels:{get:function(){return this.numberOfLevels},set:function(e){this.$emit("update:numberOfLevels",e)}},dwellings:{get:function(){return this.numberOfDwellings},set:function(e){this.$emit("update:numberOfDwellings",e)}},floorHeight:{get:function(){return this.avgFloorHeight},set:function(e){this.$emit("update:avgFloorHeight",e)}},building:{get:function(){return this.buildingType},set:function(e){this.$emit("update:buildingType",e)}},approvalRequired:{get:function(){return this.approval},set:function(e){this.$emit("update:approval",e)}},inductionRequired:{get:function(){return this.induction},set:function(e){this.$emit("update:induction",e)}},leadInInstallation:{get:function(){return this.leadInInstallationDifficulty},set:function(e){this.$emit("update:leadInInstallationDifficulty",e)}},backboneInstallation:{get:function(){return this.backboneInstallationDifficulty},set:function(e){this.$emit("update:backboneInstallationDifficulty",e)}},customerInstallation:{get:function(){return this.customerInstallationDifficulty},set:function(e){this.$emit("update:customerInstallationDifficulty",e)}}}},Me=Se,De=r("ac7c"),Oe=r("a523"),Ae=Object(M["a"])(Me,oe,le,!1,null,null,null),Te=Ae.exports;O()(Ae,{VCheckbox:De["a"],VCol:ye["a"],VContainer:Oe["a"],VRow:Ie["a"],VSelect:re["a"]});var $e=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-text-field",{attrs:{placeholder:"Name",outlined:"","hide-details":""},model:{value:e.theName,callback:function(t){e.theName=t},expression:"theName"}}),r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{placeholder:"Email",outlined:"","hide-details":""},model:{value:e.theEmail,callback:function(t){e.theEmail=t},expression:"theEmail"}})],1),r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{placeholder:"Phone",outlined:"","hide-details":""},model:{value:e.thePhone,callback:function(t){e.thePhone=t},expression:"thePhone"}})],1)],1),r("v-row",{staticClass:"my-2"},[r("v-text-field",{attrs:{placeholder:"Address",outlined:"","hide-details":""},model:{value:e.theAddress,callback:function(t){e.theAddress=t},expression:"theAddress"}})],1),r("v-row",{staticClass:"my-2"},[r("v-text-field",{attrs:{placeholder:"Contact person",outlined:"","hide-details":""},model:{value:e.thePerson,callback:function(t){e.thePerson=t},expression:"thePerson"}})],1)],1)},Be=[],Pe=(r("b0c0"),{name:"TabTwo",props:["name","email","phone","address","person"],computed:{theName:{get:function(){return this.name},set:function(e){this.$emit("update:name",e)}},theEmail:{get:function(){return this.email},set:function(e){this.$emit("update:email",e)}},thePhone:{get:function(){return this.phone},set:function(e){this.$emit("update:phone",e)}},theAddress:{get:function(){return this.address},set:function(e){this.$emit("update:address",e)}},thePerson:{get:function(){return this.person},set:function(e){this.$emit("update:person",e)}}}}),Ve=Pe,Ne=Object(M["a"])(Ve,$e,Be,!1,null,null,null),Fe=Ne.exports;O()(Ne,{VCol:ye["a"],VContainer:Oe["a"],VRow:Ie["a"],VTextField:me["a"]});var Re=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-text-field",{attrs:{placeholder:"Name",outlined:"","hide-details":""},model:{value:e.theName,callback:function(t){e.theName=t},expression:"theName"}}),r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{placeholder:"Email",outlined:"","hide-details":""},model:{value:e.theEmail,callback:function(t){e.theEmail=t},expression:"theEmail"}})],1),r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{placeholder:"Phone",outlined:"","hide-details":""},model:{value:e.thePhone,callback:function(t){e.thePhone=t},expression:"thePhone"}})],1)],1),r("v-row",{staticClass:"my-2"},[r("v-text-field",{attrs:{placeholder:"Address",outlined:"","hide-details":""},model:{value:e.theAddress,callback:function(t){e.theAddress=t},expression:"theAddress"}})],1),r("v-row",{staticClass:"my-2"},[r("v-text-field",{attrs:{placeholder:"Contact person",outlined:"","hide-details":""},model:{value:e.thePerson,callback:function(t){e.thePerson=t},expression:"thePerson"}})],1)],1)},Ee=[],Le={name:"TabTwo",props:["name","email","phone","address","person"],computed:{theName:{get:function(){return this.name},set:function(e){this.$emit("update:name",e)}},theEmail:{get:function(){return this.email},set:function(e){this.$emit("update:email",e)}},thePhone:{get:function(){return this.phone},set:function(e){this.$emit("update:phone",e)}},theAddress:{get:function(){return this.address},set:function(e){this.$emit("update:address",e)}},thePerson:{get:function(){return this.person},set:function(e){this.$emit("update:person",e)}}}},je=Le,Ue=Object(M["a"])(je,Re,Ee,!1,null,null,null),Ge=Ue.exports;O()(Ue,{VCol:ye["a"],VContainer:Oe["a"],VRow:Ie["a"],VTextField:me["a"]});var He=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-text-field",{attrs:{placeholder:"Name",outlined:"","hide-details":""},model:{value:e.theName,callback:function(t){e.theName=t},expression:"theName"}}),r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{placeholder:"Email",outlined:"","hide-details":""},model:{value:e.theEmail,callback:function(t){e.theEmail=t},expression:"theEmail"}})],1),r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{placeholder:"Phone",outlined:"","hide-details":""},model:{value:e.thePhone,callback:function(t){e.thePhone=t},expression:"thePhone"}})],1)],1),r("v-row",{staticClass:"my-2"},[r("v-text-field",{attrs:{placeholder:"Address",outlined:"","hide-details":""},model:{value:e.theAddress,callback:function(t){e.theAddress=t},expression:"theAddress"}})],1),r("v-row",{staticClass:"my-2"},[r("v-text-field",{attrs:{placeholder:"Contact person",outlined:"","hide-details":""},model:{value:e.thePerson,callback:function(t){e.thePerson=t},expression:"thePerson"}})],1)],1)},qe=[],ze={name:"TabTwo",props:["name","email","phone","address","person"],computed:{theName:{get:function(){return this.name},set:function(e){this.$emit("update:name",e)}},theEmail:{get:function(){return this.email},set:function(e){this.$emit("update:email",e)}},thePhone:{get:function(){return this.phone},set:function(e){this.$emit("update:phone",e)}},theAddress:{get:function(){return this.address},set:function(e){this.$emit("update:address",e)}},thePerson:{get:function(){return this.person},set:function(e){this.$emit("update:person",e)}}}},Je=ze,We=Object(M["a"])(Je,He,qe,!1,null,null,null),Ke=We.exports;O()(We,{VCol:ye["a"],VContainer:Oe["a"],VRow:Ie["a"],VTextField:me["a"]});var Ye=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[r("thead",[r("tr",[r("th",{staticClass:"text-left"},[e._v("Name")]),r("th",{staticClass:"text-left"},[e._v("exist and usable")]),r("th",{staticClass:"text-left"},[e._v("planned")]),r("th",{staticClass:"text-left"},[e._v("installed")])])]),r("tbody",[r("tr",[r("td",[r("h4",[e._v("Lead-In")])]),r("td"),r("td",[r("v-checkbox",{model:{value:e.infrastructure.leadIn.planned,callback:function(t){e.$set(e.infrastructure.leadIn,"planned",t)},expression:"infrastructure.leadIn.planned"}})],1),r("td",[r("v-checkbox",{model:{value:e.infrastructure.leadIn.installed,callback:function(t){e.$set(e.infrastructure.leadIn,"installed",t)},expression:"infrastructure.leadIn.installed"}})],1)]),r("tr",[r("td",[r("h4",[e._v("Backbone")])]),r("td"),r("td",[r("v-checkbox",{model:{value:e.infrastructure.backbone.planned,callback:function(t){e.$set(e.infrastructure.backbone,"planned",t)},expression:"infrastructure.backbone.planned"}})],1),r("td",[r("v-checkbox",{model:{value:e.infrastructure.backbone.installed,callback:function(t){e.$set(e.infrastructure.backbone,"installed",t)},expression:"infrastructure.backbone.installed"}})],1)]),r("tr",[r("td",[r("h4",[e._v("Customer Access cabling")])]),r("td"),r("td",[r("v-checkbox",{model:{value:e.infrastructure.customerAccessCabling.planned,callback:function(t){e.$set(e.infrastructure.customerAccessCabling,"planned",t)},expression:"infrastructure.customerAccessCabling.planned"}})],1),r("td",[r("v-checkbox",{model:{value:e.infrastructure.customerAccessCabling.installed,callback:function(t){e.$set(e.infrastructure.customerAccessCabling,"installed",t)},expression:"infrastructure.customerAccessCabling.installed"}})],1)]),r("tr",[r("td",[r("h4",[e._v("GPO in MDF")])]),r("td",[r("v-checkbox",{model:{value:e.infrastructure.GPOinMDF.exist,callback:function(t){e.$set(e.infrastructure.GPOinMDF,"exist",t)},expression:"infrastructure.GPOinMDF.exist"}})],1),r("td",[r("v-checkbox",{model:{value:e.infrastructure.GPOinMDF.planned,callback:function(t){e.$set(e.infrastructure.GPOinMDF,"planned",t)},expression:"infrastructure.GPOinMDF.planned"}})],1),r("td",[r("v-checkbox",{model:{value:e.infrastructure.GPOinMDF.installed,callback:function(t){e.$set(e.infrastructure.GPOinMDF,"installed",t)},expression:"infrastructure.GPOinMDF.installed"}})],1)]),r("tr",[r("td",[r("h4",[e._v("UPS in MDF")])]),r("td"),r("td",[r("v-checkbox",{model:{value:e.infrastructure.UPSinMDF.planned,callback:function(t){e.$set(e.infrastructure.UPSinMDF,"planned",t)},expression:"infrastructure.UPSinMDF.planned"}})],1),r("td",[r("v-checkbox",{model:{value:e.infrastructure.UPSinMDF.installed,callback:function(t){e.$set(e.infrastructure.UPSinMDF,"installed",t)},expression:"infrastructure.UPSinMDF.installed"}})],1)]),r("tr",[r("td",[r("h4",[e._v("GPO in risers")])]),r("td",[r("v-checkbox",{model:{value:e.infrastructure.GPOinRisers.exist,callback:function(t){e.$set(e.infrastructure.GPOinRisers,"exist",t)},expression:"infrastructure.GPOinRisers.exist"}})],1),r("td",[r("v-checkbox",{model:{value:e.infrastructure.GPOinRisers.planned,callback:function(t){e.$set(e.infrastructure.GPOinRisers,"planned",t)},expression:"infrastructure.GPOinRisers.planned"}})],1),r("td",[r("v-checkbox",{model:{value:e.infrastructure.GPOinRisers.installed,callback:function(t){e.$set(e.infrastructure.GPOinRisers,"installed",t)},expression:"infrastructure.GPOinRisers.installed"}})],1)]),r("tr",[r("td",[r("h4",[e._v("UPS in risers")])]),r("td"),r("td",[r("v-checkbox",{model:{value:e.infrastructure.UPSinRisers.planned,callback:function(t){e.$set(e.infrastructure.UPSinRisers,"planned",t)},expression:"infrastructure.UPSinRisers.planned"}})],1),r("td",[r("v-checkbox",{model:{value:e.infrastructure.UPSinRisers.installed,callback:function(t){e.$set(e.infrastructure.UPSinRisers,"installed",t)},expression:"infrastructure.UPSinRisers.installed"}})],1)])])]},proxy:!0}])})],1)},Ze=[],Qe={name:"TabSix",props:["infrastructure"]},Xe=Qe,et=Object(M["a"])(Xe,Ye,Ze,!1,null,null,null),tt=et.exports;O()(et,{VCheckbox:De["a"],VContainer:Oe["a"],VSimpleTable:y["a"]});var rt={name:"AddressDescription",components:{VDialog:k["a"],VCardText:x["b"],TabOne:Te,TabsTwoAndThree:Fe,TabFour:Ge,TabFive:Ke,TabSix:tt,Button:T},props:["dialog","markerId","save","descriptionChanged"],data:function(){return{tab:null,ready:!1,description:null,close:!1,owners:!1,management:!1,levelsInfo:!1}},watch:{descriptionChanged:function(e){e&&this.getAddressDescription(),this.$emit("update:descriptionChanged",!1)},description:{deep:!0,handler:function(e){this.ready=!!e}},close:function(e){this.$emit("update:dialog",!1),this.close=!1}},methods:{saveAddressDescription:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:sessionStorage.setItem("description",JSON.stringify({id:e.markerId,description:e.description})),e.$emit("update:save",!0);case 2:case"end":return t.stop()}}),t)})))()},getAddressDescription:function(){var e=r("65a1").default,t=sessionStorage.getItemByName("description").description;Object.keys(e).forEach((function(r){t[r]||(t[r]=e[r])})),this.description=t}},beforeMount:function(){this.getAddressDescription(),this.ready=!0}},at=rt,nt=(r("6a28"),r("71a3")),st=r("c671"),it=r("fe57"),ot=r("aac8"),lt=Object(M["a"])(at,se,ie,!1,null,null,null),dt=lt.exports;O()(lt,{VBottomNavigation:P["a"],VCard:V["a"],VCardText:x["b"],VDialog:k["a"],VTab:nt["a"],VTabItem:st["a"],VTabs:it["a"],VTabsItems:ot["a"]});var ct=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{fullscreen:""},model:{value:e.opened,callback:function(t){e.opened=t},expression:"opened"}},[r("v-card",{staticClass:"mx-auto pa-4",attrs:{flat:"","max-width":"100%"}},[r("v-card",{staticClass:"mx-auto",attrs:{flat:"","max-width":"50"}},[r("v-text-field",{staticClass:"mx-auto",attrs:{"max-width":"150","append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.levels,"multi-sort":""},scopedSlots:e._u([{key:"body",fn:function(t){var a=t.items;return[r("tbody",e._l(a,(function(t){return r("tr",{key:t.name},[r("td",[r("v-chip",{attrs:{color:"#888",dark:""}},[e._v(e._s(t.name))])],1),r("td",[r("v-simple-checkbox",{attrs:{color:"#09b",value:t.plannedRouter}})],1),r("td",[r("v-simple-checkbox",{attrs:{color:"#09b",value:t.plannedSplicingBox}})],1),r("td",[r("v-simple-checkbox",{attrs:{color:"#09b",value:t.plannedSplitter}})],1),r("td",[r("v-simple-checkbox",{attrs:{color:"#09b",value:t.plannedOFTU}})],1),r("td",[r("v-simple-checkbox",{attrs:{color:"#090",value:t.installedRouter}})],1),r("td",[r("v-simple-checkbox",{attrs:{color:"#090",value:t.installedSplicingBox}})],1),r("td",[r("v-simple-checkbox",{attrs:{color:"#090",value:t.installedSplitter}})],1),r("td",[r("v-simple-checkbox",{attrs:{color:"#090",value:t.installedOFTU}})],1),r("td",{staticStyle:{width:"120px"}},[r("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"#090"},on:{click:function(r){return e.editItem(t)}}},[e._v(" mdi-pencil ")]),r("v-icon",{attrs:{small:"",color:"#900"},on:{click:function(r){return e.deleteItem(t)}}},[e._v(" mdi-delete ")])],1)])})),0)]}},{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-toolbar-title",[e._v(e._s(e.address))]),r("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),r("v-spacer"),r("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,n=t.attrs;return[r("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"#333",text:""}},"v-btn",n,!1),a),[e._v("Add level")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{label:"Level"},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),r("v-col",{attrs:{cols:"6"}},[r("v-checkbox",{attrs:{label:"Level Router is planned",color:"#09b"},model:{value:e.editedItem.plannedRouter,callback:function(t){e.$set(e.editedItem,"plannedRouter",t)},expression:"editedItem.plannedRouter"}})],1),r("v-col",{attrs:{cols:"6"}},[r("v-checkbox",{attrs:{label:"Router installed",color:"#090"},model:{value:e.editedItem.installedRouter,callback:function(t){e.$set(e.editedItem,"installedRouter",t)},expression:"editedItem.installedRouter"}})],1),r("v-col",{attrs:{cols:"6"}},[r("v-checkbox",{attrs:{label:"Splicing Box is planned",color:"#09b"},model:{value:e.editedItem.plannedSplicingBox,callback:function(t){e.$set(e.editedItem,"plannedSplicingBox",t)},expression:"editedItem.plannedSplicingBox"}})],1),r("v-col",{attrs:{cols:"6"}},[r("v-checkbox",{attrs:{label:"Splicing Box installed",color:"#090"},model:{value:e.editedItem.installedSplicingBox,callback:function(t){e.$set(e.editedItem,"installedSplicingBox",t)},expression:"editedItem.installedSplicingBox"}})],1),r("v-col",{attrs:{cols:"6"}},[r("v-checkbox",{attrs:{label:"Splitter is planned",color:"#09b"},model:{value:e.editedItem.plannedSplitter,callback:function(t){e.$set(e.editedItem,"plannedSplitter",t)},expression:"editedItem.plannedSplitter"}})],1),r("v-col",{attrs:{cols:"6"}},[r("v-checkbox",{attrs:{label:"Splitter installed",color:"#090"},model:{value:e.editedItem.installedSplitter,callback:function(t){e.$set(e.editedItem,"installedSplitter",t)},expression:"editedItem.installedSplitter"}})],1),r("v-col",{attrs:{cols:"6"}},[r("v-checkbox",{attrs:{label:"OFTU is planned",color:"#09b"},model:{value:e.editedItem.plannedOFTU,callback:function(t){e.$set(e.editedItem,"plannedOFTU",t)},expression:"editedItem.plannedOFTU"}})],1),r("v-col",{attrs:{cols:"6"}},[r("v-checkbox",{attrs:{label:"OFTU installed",color:"#090"},model:{value:e.editedItem.installedOFTU,callback:function(t){e.$set(e.editedItem,"installedOFTU",t)},expression:"editedItem.installedOFTU"}})],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"#333",text:""},on:{click:e.close}},[e._v("Cancel")]),r("v-btn",{attrs:{color:"#333",text:""},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"no-data",fn:function(){return[r("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Reset")])]},proxy:!0}])})],1),r("v-bottom-navigation",{attrs:{absolute:""}},[r("Button",{attrs:{clicked:e.hide,text:"CLOSE",color:"#333"},on:{"update:clicked":function(t){e.hide=t}}})],1)],1)},pt=[],ut=(r("c975"),r("a434"),r("8fea")),mt=r("71d9"),ft=r("ce7e"),ht=r("2fa4"),vt=r("9d93"),gt={name:"AddressLevels",components:{VContainer:Oe["a"],VDialog:k["a"],VBottomNavigation:P["a"],VBtn:w["a"],VCard:V["a"],VCardTitle:x["c"],VCardText:x["b"],VCardActions:x["a"],VDataTable:ut["a"],VToolbar:mt["a"],VCheckbox:De["a"],VRow:Ie["a"],VCol:ye["a"],VDivider:ft["a"],VSpacer:ht["a"],Button:T},directives:{ripple:vt["ripple"]},props:["opened","address","addressLevels"],data:function(){return{search:"",dialog:!1,hide:!1,levels:[],headers:[{text:"Levels",align:"start",value:"name"},{text:"Planned Routers",value:"plannedRouter"},{text:"Planned Splicing Boxes",value:"plannedSplicingBox"},{text:"Planned Splitters",value:"plannedSplitter"},{text:"Planned OFTU",value:"plannedOFTU"},{text:"Installed Routers",value:"installedRouter"},{text:"Installed Splicing Boxes",value:"installedSplicingBox"},{text:"Installed Splitters",value:"installedSplitter"},{text:"Installed OFTU",value:"installedOFTU"},{text:"Actions",value:"actions",sortable:!1}],editedIndex:-1,editedItem:{name:"",plannedRouter:!1,plannedSplicingBox:!1,plannedSplitter:!1,plannedOFTU:!1,installedRouter:!1,installedSplicingBox:!1,installedSplitter:!1,installedOFTU:!1},defaultItem:{name:"",plannedRouter:!1,plannedSplicingBox:!1,plannedSplitter:!1,plannedOFTU:!1,installedRouter:!1,installedSplicingBox:!1,installedSplitter:!1,installedOFTU:!1}}},computed:{formTitle:function(){return-1===this.editedIndex?"Add new level":"Edit level info"}},watch:{dialog:function(e){e||this.close()},hide:function(e){e&&this.$emit("update:opened",!1),this.hide=!1},save:function(e){e&&(this.save(),this.save=!1)}},methods:{editItem:function(e){this.editedIndex=this.levels.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){var t=this.levels.indexOf(e);confirm("Are you sure you want to delete this item?")&&this.levels.splice(t,1)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?Object.assign(this.levels[this.editedIndex],this.editedItem):this.levels.push(this.editedItem),sessionStorage.setItemByName("description",Object.assign(sessionStorage.getItemByName("description"),{levels:JSON.parse(JSON.stringify(this.levels))})),this.close()},init:function(){this.levels=this.addressLevels?this.addressLevels.map((function(e,t){return{name:e.name,index:t,plannedRouter:e.planned.router,plannedSplicingBox:e.planned.splicingBox,plannedSplitter:e.planned.splitter,plannedOFTU:e.planned.oftu,installedRouter:e.installed.router,installedSplicingBox:e.installed.splicingBox,installedSplitter:e.installed.splitter,installedOFTU:e.installed.oftu}})):[]}},mounted:function(){this.init()},save:function(){this.$emit("update:addressLevels",this.levels)}},bt=gt,kt=r("cc20"),yt=r("132d"),xt=r("9e88"),It=r("2a7f"),Ct=Object(M["a"])(bt,ct,pt,!1,null,null,null),wt=Ct.exports;O()(Ct,{VBottomNavigation:P["a"],VBtn:w["a"],VCard:V["a"],VCardActions:x["a"],VCardText:x["b"],VCardTitle:x["c"],VCheckbox:De["a"],VChip:kt["a"],VCol:ye["a"],VContainer:Oe["a"],VDataTable:ut["a"],VDialog:k["a"],VDivider:ft["a"],VIcon:yt["a"],VRow:Ie["a"],VSimpleCheckbox:xt["a"],VSpacer:ht["a"],VTextField:me["a"],VToolbar:mt["a"],VToolbarTitle:It["a"]});var _t={name:"Markers",components:{Diagnostics:F,AddressInfo:ne,AddressDescription:dt,AddressLevels:wt,Button:T},props:["saveData"],data:function(){return{types:["LIT","Footprint"],resellers:[],container:null,map:null,ready:!1,diagnostics:!1,diagnosticsDone:!1,selectedMarkerId:null,selectedMarkerAddress:"",seachMarker:null,search:!1,newMarker:!1,description:null,addressDescriptionVisible:!1,showAddressLevels:!1,descriptionChanged:!1}},computed:{save:{get:function(){return this.saveData},set:function(e){this.$emit("update:saveData",e)}},mapIsReady:function(){return this.ready&&this.map&&this.Autocomplete}},watch:{search:function(e){e&&(this.selectedMarkerId=null,this.map.resetSelectedMarker(),this.search=!1)},newMarker:function(e){e&&(this.map.addNewMarker(),this.newMarker=!1)},diagnosticsDone:function(e){e&&(this.diagnostics=!1)},selectedMarkerId:function(e){var t=this;if(e){var r=localStorage.getItemByName(e);this.getAddressDescription(e,r.address,r.properties).then((function(e){t.description=e}))}},descriptionChanged:function(e){if(e){var t=sessionStorage.getItemByName("description"),r=t.description;this.description=r,this.addressDescriptionChanged=!1}}},methods:{getData:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return localStorage.clear(),e.types.forEach((function(e){return localStorage.setItemByName(e,[])})),t.next=4,fetch("https://dka.dgtek.net/api/frontend/markers");case 4:return t.next=6,t.sent.json();case 6:r=t.sent,r.features.forEach((function(e,t){e.properties.typeOf||(e.properties.typeOf="Footprint"),localStorage.setItemByName(e.properties.id,{address:e.properties.address,coordinates:e.geometry.coordinates,type:e.properties.typeOf}),localStorage.addMarkerToCollection(e.properties.id,e.properties.typeOf)})),window.dispatchEvent(new Event("data-ready"));case 9:case"end":return t.stop()}}),t)})))()},readyCallback:function(e){this.ready=!0},saveSelectedMarkerData:function(){localStorage.setItemByName(this.selectedMarkerId,{address:this.selectedMarkerAddress,coordinates:this.selectedMarkerCoordinates,type:this.selectedMarkerType,properties:this.selectedMarkerProperties}),this.descriptionChanged=!0},selectedMarkerCallback:function(e){if(e.details.id){this.selectedMarkerId=e.details.id;var t=localStorage.getItemByName(this.selectedMarkerId);this.selectedMarkerCoordinates=t.coordinates,this.selectedMarkerAddress=t.address,this.selectedMarkerType=t.type,this.selectedMarkerProperties=t.properties}},resetSelectedMarkerCallback:function(e){this.selectedMarkerId=void 0},markerPositionChangedHandler:function(e){this.coordinates[e.details.markerIndex]=e.details.markerCoordinates,this.selectedMarkerIndex=e.details.markerIndex,this.selectedMarkerCoordinates=e.details.markerCoordinates},emptySpaceClick:function(e){this.selectedMarkerId=void 0},initMap:function(){var e=document.getElementById("dgtek-container-for-map");e?this.container=e:(this.container=document.body.appendChild(document.createElement("div")),this.container.id="dgtek-container-for-map"),this.container.addEventListener("map-is-ready",this.readyCallback.bind(this)),this.container.addEventListener("marker-selected",this.selectedMarkerCallback.bind(this)),this.container.addEventListener("reset-selected-marker",this.resetSelectedMarkerCallback.bind(this)),this.container.addEventListener("empty-field-click",this.emptySpaceClick),this.container.addEventListener("new-marker",this.addNewMarker),this.map=new h({container:this.container,width:window.innerWidth/1.5,height:700,center:{lat:-37.8357725,lng:144.9738764}}),this.container.addEventListener("marker-type-changed",this.map.changeMarkerType.bind(this.map)),this.container.addEventListener("marker-address-changed",this.map.changeMarkerAddress.bind(this.map)),this.container.addEventListener("marker-coordinates-changed",this.map.changeMarkerCoordinates.bind(this.map)),this.ready=!0},getResellers:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://dka.dgtek.net/api/frontend/resellers");case 2:return t.next=4,t.sent.json();case 4:r=t.sent,e.resellers=r.data.map((function(e){return e.site}));case 6:case"end":return t.stop()}}),t)})))()},getAddressDescription:function(e,t){var r=arguments;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=r.length>2&&void 0!==r[2]?r[2]:sessionStorage.getItemByName("emptyProperties"),a.next=3,fetch("https://dgtek-staging.herokuapp.com/description/".concat(e));case 3:return a.next=5,a.sent.json();case 5:return s=a.sent,s.statusCode&&(console.warn("Error reading address description: ",s.statusCode),s.description=sessionStorage.getItemByName("emptyDescription")),i=Object.assign(s.description,{id:e,address:t,addressComponents:n}),sessionStorage.setItem("description",JSON.stringify({id:e,description:i})),a.abrupt("return",i);case 10:case"end":return a.stop()}}),a)})))()}},beforeMount:function(){this.getData(),this.description=r("65a1").default,sessionStorage.setItemByName("emptyDescription",this.description),sessionStorage.setItemByName("emptyProperties",{number:"",street:"",city:"",state:"",postCode:"",admin:""}),sessionStorage.setItemByName("description",{id:"",description:this.description}),this.getResellers()},mounted:function(){window.addEventListener("data-ready",this.initMap)}},St=_t,Mt=Object(M["a"])(St,o,l,!1,null,"fa61ee10",null),Dt=Mt.exports;O()(Mt,{VBottomNavigation:P["a"],VCol:ye["a"],VContainer:Oe["a"],VRow:Ie["a"]});var Ot={name:"App",components:{Markers:Dt},data:function(){return{saveData:!1,saveAddressDescription:!1}},watch:{saveData:function(e){console.log("App: saveData ",e),e&&this.saveMarkers()},saveAddressDescription:function(e){console.log("App: saveDescription ",e),e&&this.saveDescription()}},methods:{saveMarkers:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=localStorage.getAllMarkers(),console.log(r),e.saveData=!1;case 3:case"end":return t.stop()}}),t)})))()},saveDescription:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=JSON.parse(sessionStorage.getItem("description")),a=r.id,n=r.description,console.log(a,n),e.saveAddressDescription=!1;case 3:case"end":return t.stop()}}),t)})))()}}},At=Ot,Tt=r("7496"),$t=r("f6c4"),Bt=Object(M["a"])(At,n,s,!1,null,null,null),Pt=Bt.exports;O()(Bt,{VApp:Tt["a"],VMain:$t["a"]});var Vt=r("f309");a["a"].use(Vt["a"]);var Nt=new Vt["a"]({});a["a"].config.productionTip=!1,new a["a"]({vuetify:Nt,render:function(e){return e(Pt)}}).$mount("#app")},"5ead":function(e,t,r){},"65a1":function(e,t,r){"use strict";r.r(t),t["default"]={address:"",addressComponents:{number:"",street:"",city:"",state:"",postCode:"",admin:""},footprint:!1,distanceFromFootprint:0,buildingType:"",owner:{name:"",address:"",phone:"",email:"",contactPerson:""},management:{name:"",address:"",phone:"",email:"",contactPerson:""},customerInstallApprovalRequired:!1,inductionRequired:!1,difficultyLevel:{leadInInstallation:3,backboneInstallation:5,customerInstallation:4},infrastructure:{type:"Active",leadIn:{planned:!1,installed:!1},backbone:{planned:!1,installed:!1},customerAccessCabling:{planned:!1,installed:!1},GPOinMDF:{exist:!1,planned:!1,installed:!1},UPSinMDF:{planned:!1,installed:!1},GPOinRisers:{exist:!1,planned:!1,installed:!1},UPSinRisers:{planned:!1,installed:!1}},numberOfLevels:0,numberOfDwellings:0,avgFloorHeight:0,levels:[{name:"1",planned:{router:!1,splicingBox:!1,splitter:!1,oftu:!1},installed:{router:!1,splicingBox:!1,splitter:!1,oftu:!1}}]}},"6a28":function(e,t,r){"use strict";var a=r("939b"),n=r.n(a);n.a},"939b":function(e,t,r){},"9c19":function(e,t,r){"use strict";var a=r("b1cd"),n=r.n(a);n.a},ab06:function(e,t,r){"use strict";var a=r("5ead"),n=r.n(a);n.a},b1cd:function(e,t,r){},bb56:function(e,t,r){},ff54:function(e,t,r){"use strict";var a=r("25f03"),n=r.n(a);n.a}});
//# sourceMappingURL=app.3c6fce7b.js.map